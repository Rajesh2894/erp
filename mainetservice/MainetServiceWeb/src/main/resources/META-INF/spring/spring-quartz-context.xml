<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans-4.2.xsd
		http://www.springframework.org/schema/context 
		http://www.springframework.org/schema/context/spring-context-4.2.xsd">
	                 	                     		
		 <bean id="pushNotificationToGSM" class="com.abm.mainetservice.quartz.PushNotificationToGSM" />											
		 <bean id="simpleJobDetail" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">		 
		    <property name="targetObject" ref="pushNotificationToGSM" />
		    <property name="targetMethod" value="pushNotification" />
		     <property name="concurrent" value="false"/>
		</bean>			
		
		<bean name="complexJobDetail" class="org.springframework.scheduling.quartz.JobDetailFactoryBean">
			<property name="jobClass" value="com.abm.mainetservice.quartz.PushNotificationToGSMJob"/>	
			<property name="jobDataAsMap">
			  <map>
				<entry key="pushNotificationToGSM" value-ref ="pushNotificationToGSM" />
			  </map>
			</property>	
			<property name="durability" value="true"></property>
		</bean>
	<!-- Simple Trigger, run every 5 seconds -->
	
	<bean id="simpleTrigger" class="org.springframework.scheduling.quartz.SimpleTriggerFactoryBean">		
		<property name="jobDetail" ref ="simpleJobDetail" />	
		<property name="repeatInterval" value="${simpleTrigger.repeatInterval}" />
		<property name="startDelay"  value="${simpleTrigger.startDelay}" />
	</bean>
	
	<!-- run every morning at 6 AM -->	
	
	   <bean id="cronTrigger" class="org.springframework.scheduling.quartz.CronTriggerFactoryBean">
		<property name="jobDetail" ref ="complexJobDetail" />
		<property name="cronExpression" value="${cronTrigger.cronExpression}"/>
	</bean>

	<bean  class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
    <property name="jobDetails">
        <list>
            <ref bean="simpleJobDetail" />
            <ref bean="complexJobDetail" />
        </list>
    </property>
 
    <property name="triggers">
        <list>
            <ref bean="simpleTrigger" />
            <ref bean="cronTrigger" />
        </list>
    </property>
    <property name="autoStartup" value="true"></property>
</bean>
</beans>
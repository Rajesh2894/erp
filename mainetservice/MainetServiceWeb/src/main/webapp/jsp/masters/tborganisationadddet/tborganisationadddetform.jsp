<%-- <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- File generated by Telosys Tools Generator ( version 2.1.0 ) - Date 2015-07-27 ( Time 15:57:44 ) -->

<div xmlns:jsp="http://java.sun.com/JSP/Page" xmlns:c="http://java.sun.com/jsp/jstl/core"
     xmlns:s="http://www.springframework.org/tags" xmlns:form="http://www.springframework.org/tags/form" 
     xmlns:util="urn:jsptagdir:/WEB-INF/tags/util" xmlns:input="urn:jsptagdir:/WEB-INF/tags/input" 
     version="2.0">
<jsp:directive.page contentType="text/html;charset=UTF-8"/>
<jsp:output omit-xml-declaration="yes"/>

	<div class="container">
		<fieldset class="col-sm-12 bordure">
			<legend class="legende"><s:message code="tbOrganisationAddDet"/></legend>
		
			<util:message message="${message}" messages="${messages}" />
			
	    	<s:url value="${saveAction}" var="url_form_submit" />
			<form:form class="form-horizontal" modelAttribute="tbOrganisationAddDet" cssClass="well form-horizontal" method="POST" action="${url_form_submit}">
				<form:errors path="*" cssClass="alert alert-danger" element="div" />

<c:if test="${mode != 'create'}">
				<!-- Store data in hidden fields in order to be POST even if the field is disabled -->
				<form:hidden path="orgidDet" />
				<form:hidden path="orgId" />
</c:if>
 
				<!-- PRIMARY KEY FIELD : orgidDet -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_orgidDet" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.orgidDet"/></label>
					<div class="col-sm-10">
						<form:input id="tbOrganisationAddDet_orgidDet" path="orgidDet" class="form-control" maxLength="20" disabled="${mode != 'create'}" />
						<form:errors id="tbOrganisationAddDet_orgidDet_errors" path="orgidDet" cssClass="label label-danger" />

					</div>
				</div>

 
 				<!-- PRIMARY KEY FIELD : orgId -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_orgId" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.orgId"/></label>
					<div class="col-sm-10">
<c:if test="${mode == 'create'}">
						<form:select id="tbOrganisationAddDet_orgId" path="orgId" cssClass="form-control">
							<form:option value=""></form:option>
							<form:options items="${listOfTbOrganisationItems}" itemValue="value" itemLabel="label" />
						</form:select>
</c:if>
<c:if test="${mode != 'create'}">
						<form:input id="tbOrganisationAddDet_orgId" path="orgId" class="form-control" maxLength="20" disabled="true" />
</c:if>
						<form:errors id="tbOrganisationAddDet_orgId_errors" path="orgId" cssClass="label label-danger" />

					</div>
				</div>

 
				<!-- DATA FIELD : cpdNationltyId -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_cpdNationltyId" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.cpdNationltyId"/></label>
					<div class="col-sm-10">
  						<form:input id="tbOrganisationAddDet_cpdNationltyId" path="cpdNationltyId" class="form-control" maxLength="20"  />
						<form:errors id="tbOrganisationAddDet_cpdNationltyId_errors" path="cpdNationltyId" cssClass="label label-danger" />

					</div>
				</div>

 
				<!-- DATA FIELD : cpdStateId -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_cpdStateId" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.cpdStateId"/></label>
					<div class="col-sm-10">
  						<form:input id="tbOrganisationAddDet_cpdStateId" path="cpdStateId" class="form-control" maxLength="20"  />
						<form:errors id="tbOrganisationAddDet_cpdStateId_errors" path="cpdStateId" cssClass="label label-danger" />

					</div>
				</div>

 
				<!-- DATA FIELD : cpdDistrictId -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_cpdDistrictId" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.cpdDistrictId"/></label>
					<div class="col-sm-10">
  						<form:input id="tbOrganisationAddDet_cpdDistrictId" path="cpdDistrictId" class="form-control" maxLength="20"  />
						<form:errors id="tbOrganisationAddDet_cpdDistrictId_errors" path="cpdDistrictId" cssClass="label label-danger" />

					</div>
				</div>

 
				<!-- DATA FIELD : cpdTalukaId -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_cpdTalukaId" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.cpdTalukaId"/></label>
					<div class="col-sm-10">
  						<form:input id="tbOrganisationAddDet_cpdTalukaId" path="cpdTalukaId" class="form-control" maxLength="20"  />
						<form:errors id="tbOrganisationAddDet_cpdTalukaId_errors" path="cpdTalukaId" cssClass="label label-danger" />

					</div>
				</div>

 
				<!-- DATA FIELD : resedentType -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_resedentType" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.resedentType"/></label>
					<div class="col-sm-10">
  						<form:input id="tbOrganisationAddDet_resedentType" path="resedentType" class="form-control" maxLength="20"  />
						<form:errors id="tbOrganisationAddDet_resedentType_errors" path="resedentType" cssClass="label label-danger" />

					</div>
				</div>

 
				<!-- DATA FIELD : userId -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_userId" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.userId"/></label>
					<div class="col-sm-10">
  						<form:input id="tbOrganisationAddDet_userId" path="userId" class="form-control" maxLength="20"  />
						<form:errors id="tbOrganisationAddDet_userId_errors" path="userId" cssClass="label label-danger" />

					</div>
				</div>

 
				<!-- DATA FIELD : langId -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_langId" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.langId"/></label>
					<div class="col-sm-10">
  						<form:input id="tbOrganisationAddDet_langId" path="langId" class="form-control" maxLength="20"  />
						<form:errors id="tbOrganisationAddDet_langId_errors" path="langId" cssClass="label label-danger" />

					</div>
				</div>

 
				<!-- DATA FIELD : lmoddate -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_lmoddate" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.lmoddate"/></label>
					<div class="col-sm-10">
  						<input:date id="tbOrganisationAddDet_lmoddate" name="lmoddate" />  <!-- DATE type -->
						<form:errors id="tbOrganisationAddDet_lmoddate_errors" path="lmoddate" cssClass="label label-danger" />

					</div>
				</div>

 
				<!-- DATA FIELD : updatedBy -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_updatedBy" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.updatedBy"/></label>
					<div class="col-sm-10">
  						<form:input id="tbOrganisationAddDet_updatedBy" path="updatedBy" class="form-control" maxLength="20"  />
						<form:errors id="tbOrganisationAddDet_updatedBy_errors" path="updatedBy" cssClass="label label-danger" />

					</div>
				</div>

 
				<!-- DATA FIELD : updatedDate -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_updatedDate" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.updatedDate"/></label>
					<div class="col-sm-10">
  						<input:date id="tbOrganisationAddDet_updatedDate" name="updatedDate" />  <!-- DATE type -->
						<form:errors id="tbOrganisationAddDet_updatedDate_errors" path="updatedDate" cssClass="label label-danger" />

					</div>
				</div>

 
				<!-- DATA FIELD : lgIpMac -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_lgIpMac" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.lgIpMac"/></label>
					<div class="col-sm-10">
  						<form:input id="tbOrganisationAddDet_lgIpMac" path="lgIpMac" class="form-control" maxLength="100"  />
						<form:errors id="tbOrganisationAddDet_lgIpMac_errors" path="lgIpMac" cssClass="label label-danger" />

					</div>
				</div>

 
				<!-- DATA FIELD : lgIpMacUpd -->
				<div class="form-group">
					<!-- The field label is defined in the messages file (for i18n) -->
					<label for="tbOrganisationAddDet_lgIpMacUpd" class="col-sm-2 control-label"><s:message code="tbOrganisationAddDet.lgIpMacUpd"/></label>
					<div class="col-sm-10">
  						<form:input id="tbOrganisationAddDet_lgIpMacUpd" path="lgIpMacUpd" class="form-control" maxLength="100"  />
						<form:errors id="tbOrganisationAddDet_lgIpMacUpd_errors" path="lgIpMacUpd" cssClass="label label-danger" />

					</div>
				</div>

 

				<!-- ACTION BUTTONS -->
				<div class="form-group">
					<div class="col-sm-offset-2 col-sm-2">
						<c:if test="${mode != 'create'}">
							<!-- "DELETE" button ( HREF link ) -->
							<s:url var="deleteButtonURL" value="/tbOrganisationAddDet/delete/${tbOrganisationAddDet.orgidDet}/${tbOrganisationAddDet.orgId}" />
							<a role="button" class="btn btn-danger btn-block" href="${deleteButtonURL}"><s:message code="delete"/></a>
						</c:if>
					</div>
    				<div class="col-sm-offset-4 col-sm-2">
						<!-- "CANCEL" button ( HREF link ) -->
		 				<s:url var="cancelButtonURL" value="/tbOrganisationAddDet" />
						<a role="button" class="btn btn-default btn-block" href="${cancelButtonURL}"><s:message code="cancel"/></a>
					</div>
    				<div class="col-sm-2">
						<!-- "SAVE" button ( SUBMIT button ) -->
						<button type="submit" class="btn btn-primary btn-lg btn-block"><s:message code="save"/></button>
					</div>
				</div>
			</form:form>
	    </fieldset>
	</div>	
</div>
 --%>
 
<%--  <%@ page language="java" contentType="text/html; charset=ISO-8859-1"
	pageEncoding="ISO-8859-1"%>

<%@page import="java.util.Date"%>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%
	response.setContentType("text/html; charset=utf-8");
%>

<%@taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>

<script type="text/javascript">
	$(function () {
	    $("#childGrid").jqGrid({
	        url: "tbCustbanksMas/getChildGridData",
	        datatype: "json",
	        mtype: "GET",
	        colNames: ["Bank Code", "Branch Name", "City", "Address", "PG Flag"],
	        colModel: [
	            { name: "orgId", width: 35, sortable: true },
	            { name: "cpdNationltyId", width: 100, sortable: false },
	            { name: "cpdStateId", width: 35, sortable: false },
	            { name: "cpdDistrictId", width: 150, sortable: false },
	            { name: "pgFlag", width: 25, sortable: false }        ],
	        pager: "#pagered",
	        rowNum: 5,
	        rowList: [5, 10, 20, 30],
	        sortname: "cmBankid",
	        sortorder: "desc",
	        height:'auto',
	        viewrecords: true,
	        gridview: true,
	        loadonce: true,
	        jsonReader : {
	            root: "rows",
	            page: "page",
	            total: "total",
	            records: "records", 
	            repeatitems: false,
	           }, 
	        autoencode: true,
	        editurl:"tbCustbanksMas/update",
	        caption: "Customer Bank Entry List"
	    }); 
	}); 

	$(function() {
		
		$("#createData").click(function(){
			
			var cmBankname = $("#tbCustbanksMas_cmBankname").val();
			
			if(cmBankname == ''){
				//alert('please enter Bank Name');
				var errMsg = '<div class="closeme">	<img alt="Close" title="Close" src="css/images/close.png" onclick="closeOutErrBox()" width="32"/></div><ul><li>please enter Bank Name</li></ul>';
				$("#errorDivCustBankMas").html(errMsg);
				$("#errorDivCustBankMas").show();
				return false;
			}
			
			var url = "tbCustbanksMas/addChildForm/"+cmBankname;

			$.ajax({
				url : url,
				success : function(response) {
					
					var divName = '.child-popup-dialog';
					
					$(divName).removeClass('ajaxloader');
					$(divName).html(response);
					//prepareTags();
					showMsgModalBox(divName);
				},
				error : function(xhr, ajaxOptions, thrownError) {
					var errorList = [];
					errorList.push(getLocalMessage("admin.login.internal.server.error"));
					showError(errorList);
				}
			});				
				
		});
			
	});
	
	function closeOutErrBox(){
		$('.error-div').hide();
	}
	
</script>

<div id="heading_wrapper">

	<div class="form-div">
	
		<c:url value="${saveAction}" var="url_form_submit" />
		
		<div class="error-div" style="display:none;" id="errorDivCustBankMas"></div>
	
		<form:form method="post" action="${url_form_submit}" name="hormaster"
			id="hormaster" class="form">
			
			<c:if test="${mode != 'create'}">
				<!-- Store data in hidden fields in order to be POST even if the field is disabled -->
				<form:hidden path="cmBankid" />
				<form:hidden path="userId" />
				<form:hidden path="langId" />
				<form:hidden path="lmoddate" />
			</c:if>
			
			<div class="form-elements">
				<div class="element">
					<label for="tbOrganisation_oNlsOrgname" class="col-sm-2 control-label"><spring:message code="tbCustbanksMas.cmBankname"/></label>
					<form:input id="tbOrganisation_oNlsOrgname" path="oNlsOrgname" class="form-control mandClassColor" maxLength="500"  /><span class="mand">*</span>
				</div>
			</div>
			
			<div class="btn_fld float-right clear">
			
				<!-- <input type="BUTTON" id="bedata" value="Edit Selected" class="css_btn"/>
				<input type="BUTTON" id="delData" value="Delete Selected" class="css_btn"/> -->
				<input type="BUTTON" id="createData" value="Create Data" class="css_btn"/>
				
			</div>
			
			<div class="form-elements">
				
				<table id="childGrid"></table>
				<div id="pagered"></div> 
			</div>	
			
			<div class="btn_fld padding_10 clear">
				<input type="submit" class="css_btn" value="<spring:message code="save"/>" >
			</div>
			
		</form:form>
		
		

	</div>
</div> --%>

<%-- <div class="form-elements">
				<div class="element">
					<label for="tbDepartment_dpPrefix" class="col-sm-2 control-label"><spring:message code="tbDepartment.authorised"/></label>
					<form:select id="tbComparamDet_dpPrefix" path="dpPrefix" cssClass="form-control">
						<form:option value=""></form:option>
						<form:options items="${listOfTbComparamMasItems}" itemValue="value" itemLabel="label" />
					</form:select>
					<form:input id="tbDepartment_dpCheck" path="dpCheck" class="form-control" maxLength="10"  />
					<form:errors id="tbDepartment_dpPrefix_errors" path="dpPrefix" cssClass="label label-danger" />
						
				</div>
			</div> --%>
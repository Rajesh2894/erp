/*
 * Created on 10 May 2016 ( Time 16:43:02 )
 * Generated by Telosys Tools Generator ( version 2.1.1 )
 */
package com.abm.mainet.water.service;

import java.util.Date;
import java.util.List;
import java.util.Map;

import com.abm.mainet.common.domain.Organisation;
import com.abm.mainet.common.integration.dms.client.FileNetApplicationClient;
import com.abm.mainet.common.integration.dto.BillTaxDTO;
import com.abm.mainet.water.domain.TbMrdataEntity;
import com.abm.mainet.water.dto.MeterReadingDTO;
import com.abm.mainet.water.dto.MeterReadingMonthDTO;
import com.abm.mainet.water.dto.TbMeterMas;
import com.abm.mainet.water.dto.TbWtBillSchedule;

/**
 * Business Service Interface for entity TbMrdata.
 */
public interface TbMrdataService {

    /**
     * @param entityDTO
     * @param finYearId
     * @param dependsOnType
     * @param billSchedule
     * @param monthList
     * @param meteredtype
     * @param
     * @param tbWtBillSchedule
     * @param month
     * @return
     */
    List<MeterReadingDTO> findWaterRecords(
            MeterReadingDTO entityDTO,
            String finYearId, List<TbWtBillSchedule> billSchedule, String dependsOnType, List<MeterReadingMonthDTO> monthList);

    /**
     * @param csId
     * @param organisation
     */
    TbMeterMas getWaterRecordsForViewDetails(
            Long meterMasId, long organisation);

    /**
     * @param entityList
     * @param mrdDate
     * @param organisation
     * @param monthDto
     * @param changeCycle
     * @param empId
     * @param csIdn
     * @return
     */
    boolean saveMeterReadingData(
            List<MeterReadingDTO> entityList, Date mrdDate,
            Organisation organisation, List<MeterReadingMonthDTO> monthDto, String changeCycle, Long empId, List<Long> csIdn);

    /**
     * @param csIdn
     * @param orgid
     * @return
     */
    MeterReadingDTO getMeterDataByCsidn(Long csIdn,
            long orgid);

    /**
     * @param csIdn
     * @param orgid
     * @return
     */
    Map<Long, BillTaxDTO> getMeterReadingData(
            List<Long> csIdn, long orgid);

    /**
     * @param conIds
     * @param organisation
     * @param fileNetApplicationClient
     * @return
     */
    Map<Long, MeterReadingDTO> findMeterReadingByCsidnAndOrgid(
            List<Long> conIds,
            Organisation organisation,
            FileNetApplicationClient fileNetApplicationClient);

    /**
     * @param tbWtBillMas
     * @param meterReadingDTO
     * @param org
     * @param meterMasId
     * @return
     * 
     */
    List<Object> setViewPreviousMeterDetails(Long meterMasId, long org, MeterReadingDTO meterReadingDTO);

	List getMeterStatusAndReadByCsidn(Long csIdn, long orgid);

	Map<Long, List<TbMrdataEntity>> meterReadingDataByCsidnAndOrg(List<Long> csIdn, long orgid);
	//MeterReadingDTO getConsumptionAndNoOfDays();

	/**
     * This method returns a map consumer id and total consumption of all unbilled meter readings till date
     * @param csIdn
     * @param orgid
     * @return Map<Long, BillTaxDTO>
     */
	Map<Long, BillTaxDTO> getUnbilledMeterReading(List<Long> csIdn, long orgid);

}

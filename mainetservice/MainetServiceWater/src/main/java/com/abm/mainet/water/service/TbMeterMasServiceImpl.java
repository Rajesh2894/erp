/*
 * Created on 12 May 2016 ( Time 11:28:48 )
 * Generated by Telosys Tools Generator ( version 2.1.1 )
 */
package com.abm.mainet.water.service;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.annotation.Resource;

import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import com.abm.mainet.water.domain.TbMeterMasEntity;
import com.abm.mainet.water.dto.TbMeterMas;
import com.abm.mainet.water.mapper.TbMeterMasServiceMapper;
import com.abm.mainet.water.repository.TbMeterMasJpaRepository;

/**
 * Implementation of TbMeterMasService
 */
@Service
public class TbMeterMasServiceImpl implements TbMeterMasService {

    @Resource
    private TbMeterMasJpaRepository tbMeterMasJpaRepository;

    @Resource
    private TbMeterMasServiceMapper tbMeterMasServiceMapper;

    public TbMeterMasJpaRepository getTbMeterMasJpaRepository() {
        return tbMeterMasJpaRepository;
    }

    public void setTbMeterMasJpaRepository(final TbMeterMasJpaRepository tbMeterMasJpaRepository) {
        this.tbMeterMasJpaRepository = tbMeterMasJpaRepository;
    }

    public TbMeterMasServiceMapper getTbMeterMasServiceMapper() {
        return tbMeterMasServiceMapper;
    }

    public void setTbMeterMasServiceMapper(final TbMeterMasServiceMapper tbMeterMasServiceMapper) {
        this.tbMeterMasServiceMapper = tbMeterMasServiceMapper;
    }

    /*
     * (non-Javadoc)
     * @see com.abm.mainet.water.service.TbMeterMasService#findById(java.lang.Long, long)
     */
    @Override
    @Transactional(readOnly = true)
    public TbMeterMas findById(final Long meterMasId, final long orgid) {
        final TbMeterMasEntity tbMeterMasEntity = tbMeterMasJpaRepository.getMeterMasterbyMeterMasId(meterMasId, orgid);
        return tbMeterMasServiceMapper.mapTbMeterMasEntityToTbMeterMas(tbMeterMasEntity);
    }

    /*
     * (non-Javadoc)
     * @see com.abm.mainet.water.service.TbMeterMasService#findMeterMasListBycnsId(java.util.List, long)
     */
    @Override
    @Transactional(readOnly = true)
    public Map<Long, TbMeterMas> findMeterMasListBycnsId(final List<Long> conIds, final long orgid) {
        final Map<Long, TbMeterMas> beans = new HashMap<>();
        final List<TbMeterMasEntity> tbMeterMasEntity = tbMeterMasJpaRepository.getMeterMasterbyMeterMasId(conIds, orgid);
        for (final TbMeterMasEntity meterMas : tbMeterMasEntity) {
            beans.put(meterMas.getTbCsmrInfo().getCsIdn(), tbMeterMasServiceMapper.mapTbMeterMasEntityToTbMeterMas(meterMas));
        }
        return beans;
    }

}

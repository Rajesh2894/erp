/*
 * Created on 23 Jul 2015 ( Time 11:52:10 )
 * Generated by Telosys Tools Generator ( version 2.1.1 )
 */
package com.abm.mainet.common.master.service;

import java.util.ArrayList;
import java.util.List;

import javax.annotation.Resource;

import org.springframework.stereotype.Component;
import org.springframework.transaction.annotation.Transactional;

import com.abm.mainet.common.domain.BankMasterEntity;
import com.abm.mainet.common.master.dto.TbCustbanks;
import com.abm.mainet.common.master.mapper.TbCustbanksServiceMapper;
import com.abm.mainet.common.master.repository.TbCustbanksJpaRepository;

/**
 * Implementation of TbCustbanksService
 */
@Component
@Transactional
public class TbCustbanksServiceImpl implements TbCustbanksService {

    @Resource
    private TbCustbanksJpaRepository tbCustbanksJpaRepository;

    @Resource
    private TbCustbanksServiceMapper tbCustbanksServiceMapper;

    @Override
    public TbCustbanks findById(final Long cbBankid) {
        final BankMasterEntity tbCustbanksEntity = tbCustbanksJpaRepository.findOne(cbBankid);
        return tbCustbanksServiceMapper.mapTbCustbanksEntityToTbCustbanks(tbCustbanksEntity);
    }

    @Override
    public List<TbCustbanks> findAll() {
        tbCustbanksJpaRepository.findAll();
        final List<TbCustbanks> beans = new ArrayList<>();
        return beans;
    }

    @Override
    public TbCustbanks save(final TbCustbanks tbCustbanks) {
        return update(tbCustbanks);
    }

    @Override
    public TbCustbanks create(final TbCustbanks tbCustbanks) {
        BankMasterEntity tbCustbanksEntity = tbCustbanksJpaRepository.findOne(tbCustbanks.getCbBankid());
        if (tbCustbanksEntity != null) {
            throw new IllegalStateException("already.exists");
        }
        tbCustbanksEntity = new BankMasterEntity();
        tbCustbanksServiceMapper.mapTbCustbanksToTbCustbanksEntity(tbCustbanks, tbCustbanksEntity);
        final BankMasterEntity tbCustbanksEntitySaved = tbCustbanksJpaRepository.save(tbCustbanksEntity);
        return tbCustbanksServiceMapper.mapTbCustbanksEntityToTbCustbanks(tbCustbanksEntitySaved);
    }

    @Override
    public TbCustbanks update(final TbCustbanks tbCustbanks) {
        final BankMasterEntity tbCustbanksEntity = tbCustbanksJpaRepository.findOne(tbCustbanks.getCbBankid());
        tbCustbanksServiceMapper.mapTbCustbanksToTbCustbanksEntity(tbCustbanks, tbCustbanksEntity);
        final BankMasterEntity tbCustbanksEntitySaved = tbCustbanksJpaRepository.save(tbCustbanksEntity);
        return tbCustbanksServiceMapper.mapTbCustbanksEntityToTbCustbanks(tbCustbanksEntitySaved);
    }

    @Override
    public void delete(final Long cbBankid) {
        tbCustbanksJpaRepository.delete(cbBankid);
    }

    public TbCustbanksJpaRepository getTbCustbanksJpaRepository() {
        return tbCustbanksJpaRepository;
    }

    public void setTbCustbanksJpaRepository(final TbCustbanksJpaRepository tbCustbanksJpaRepository) {
        this.tbCustbanksJpaRepository = tbCustbanksJpaRepository;
    }

    public TbCustbanksServiceMapper getTbCustbanksServiceMapper() {
        return tbCustbanksServiceMapper;
    }

    public void setTbCustbanksServiceMapper(final TbCustbanksServiceMapper tbCustbanksServiceMapper) {
        this.tbCustbanksServiceMapper = tbCustbanksServiceMapper;
    }

    @Override
    public List<TbCustbanks> findAllByCmBankId(final Long cmBankid) {

        final List<BankMasterEntity> entities = tbCustbanksJpaRepository.findAllByCmBankId(cmBankid);

        final List<TbCustbanks> beans = new ArrayList<>();

        for (final BankMasterEntity tbCustbanksEntity : entities) {

            beans.add(tbCustbanksServiceMapper.mapTbCustbanksEntityToTbCustbanks(tbCustbanksEntity));
        }
        return beans;
    }

}

function prepareGrid(e){var t=$("meta[name='_csrf']").attr("content"),i=$("meta[name='_csrf_header']").attr("content");rowNumWidth=e.showTotal?55:rowNumWidth,gridOption=e,viewRedirect=e.viewAjaxRequest,$("#"+e.gridId).jqGrid({url:e.url,datatype:"json",gridReloadName:e.gridReloadName,mtype:e.mtype,width:e.width,height:e.height,autowidth:!0,shrinkToFit:!0,colNames:e.colHeader,colModel:e.colModel,multiselect:e.multiselect,paging:!0,loadBeforeSend:function(e){e.setRequestHeader(i,t)},pager:$("#"+e.pagerId),editurl:e.editurl,deleteurl:e.deleteURL,cellEdit:!1,viewrecords:!0,loadonce:e.loadonce,sortname:e.sortCol,sortorder:"asc",ignoreCase:!0,rowNum:10,rowList:[5,10,15,20,25,30],jsonReader:{repeatitems:!1},gridComplete:function(){performOnLoadComplete($(this),e)},beforeSelectRow:function(e,t){return $(t.target).is("input:checkbox")},onSelectRow:function(e,t){t?-1!=allRowIds.indexOf(e)||(0==allRowIds.length?allRowIds=jQuery.makeArray(e):allRowIds.push(e)):allRowIds=jQuery.grep(allRowIds,function(t){return t!=e})},onSelectAll:function(e,t){$(".cbox").each(function(t){if(0==t)return $(this).is(":checked")?(allRowIds=e,!1):(allRowIds="",!1)})},onPaging:function(e){},caption:e.caption,rownumbers:e.showrow,rownumWidth:rowNumWidth,footerrow:e.showTotal,postData:e.postData}).navGrid("#"+e.pagerId,{add:!1,edit:!1,del:!1,search:e.search,refresh:!1,view:!1},{},{},{},{closeAfterSearch:!0,closeAfterReset:!0},{odata:["equal","not equal","less","less or equal","greater","greater or equal","begins with","does not begin with","is in","is not in","ends with","does not end with","contains","does not contain"],sopt:["eq","ne","lt","le","gt","ge","bw","bn","in","ni","ew","en","cn","nc","nu","nn"]}),addTemplate={align:"center",editable:!1,sortable:!1,search:!1,formatter:function(e,t,i){var a="<a href='javascript:void(0);'>";return(a+="<img src='css/images/add.png' width='20px' alt='Add' title='Add' />")+"</a>"}},$("#"+e.gridId).jqGrid("setLabel","rn",getLocalMessage("cms.citizen.srno"))}function childViewTemplate(e,t,i){var a=$(this).attr("id"),r=a.substr(4,a.length),o="frm"+r+"E"+e,d="<form action='"+(r+".html?edit&rowId="+e)+"' name='"+o+"' id='"+o+'\' method="post">';return d+="<a href='javascript:void(0);' onclick=\"_openChildFormUpdate('"+o+"')\">",d+="<img src='css/images/view.png' width='20px' alt='View Details' title='View Details' />",(d+="</a>")+"</form>"}function childActiveTemplate(e,t,i){var a="";return"Y"==i.activeStatus?a+="<img src='css/images/inactive.png' width='20px' alt='Inactive' title='Inactive' />":"N"==i.activeStatus&&(a+="<img src='css/images/active.png' width='20px' alt='Active' title='Active' />"),a}function childEditTemplate(e,t,i){var a=$(this).attr("id"),r=a.substr(4,a.length),o="frm"+r+"E"+e,d="<form action='"+(r+".html?edit&rowId="+e)+"' name='"+o+"' id='"+o+'\' method="post">';return d+="<a href='javascript:void(0);' onclick=\"_openChildFormUpdate('"+o+"')\">",d+="<img src='css/images/edit.png' width='20px' alt='Edit Details'/>",d+="</a>",d+="</form>","Y"===i.activeStatus?"<img src='css/images/edit.png' width='20px' alt='Edit'/>":d}function childDeleteTemplate(e,t,i){var a=$(this).attr("id"),r=a.substr(4,a.length),o="frm"+r+"D"+e,d="<form action='"+(r+".html?delete&rowId="+e)+"' name='"+o+"' id='"+o+'\' method="post">';return d+="<a href='javascript:void(0);' onclick=\"_deleteChildRow('"+o+"')\">",d+="<img src='css/images/delete.png' width='20px' alt='Delete' />",d+="</a>",d+="</form>","Y"===i.activeStatus?"<img src='css/images/delete.png' width='20px' alt='Delete'/>":d}function activeTemplate(e,t,i){var a="";return"Y"===e?a+="<img src='css/images/inactive.png' width='20px' alt='Inactive' />":"N"===e&&(a+="<img src='css/images/active.png' width='20px' alt='Active' />"),a}function editTemplate(e,t,i){var a=$(this).attr("id"),r=a.substr(4,a.length),o=$("#"+a).jqGrid().getGridParam("editurl");void 0!==o&&""!=o||(o=r+".html");var d=o+"?edit&rowId="+e,l="frm"+r+"E"+e,n="onclick=\"openUpdateForm('"+l+"')\"";t.colModel.showInDialog&&(n="onclick=\"openGridDialog('"+l+"')\"");var s="<form action='"+d+"' name='"+l+"' id='"+l+'\' method="post">';return s+="<a href='javascript:void(0);'"+n+">",s+="<img src='css/images/edit.png' width='20px' alt='Edit Details' />",s+="</a>",s+="</form>","Y"===i.activeStatus?"<img src='css/images/edit.png' width='20px' alt='Edit' />":s}function viewTemplate(e,t,i){var a=$(this).attr("id"),r=a.substr(4,a.length),o=$("#"+a).jqGrid().getGridParam("editurl");void 0!==o&&""!=o||(o=r+".html");var d=o+"?edit";viewRedirect&&(d+="&rowId="+e);var l="frm"+r+"E"+e,n="<form action='"+d+"' name='"+l+"' id='"+l+'\' method="post">';return viewRedirect?(n+="<a href='javascript:void(0);' onclick=\"openUpdateForm('"+l+"')\">",n+="<img src='css/images/view.png' width='20px' alt='View Details' />",n+="</a>"):(n+="<a href='javascript:void(0);' onclick=\"jQGridformRedirect('"+l+"')\">",n+="<img src='css/images/view.png' width='20px' alt='View Details' />",n+="</a>",n+="<input type='hidden' name='rowId' id='rowId' value='"+e+"'/>"),n+"</form>"}function viewModeTemplate(e,t,i){var a=$(this).attr("id"),r=a.substr(4,a.length),o="";void 0!==o&&""!=o||(o=r+".html");var d=o+"?viewMode";viewRedirect&&(d+="&rowId="+e);var l="combfrm"+r+"E"+e,n="<form action='"+d+"' name='"+l+"' id='"+l+'\' method="post">';return viewRedirect?(n+="<a href='javascript:void(0);' onclick=\"openViewModeForm('"+l+"')\">",n+="<img src='css/images/view.png' width='20px' alt='View Details' />",n+="</a>"):(n+="<a href='javascript:void(0);' onclick=\"jQGridformRedirect('"+l+"')\">",n+="<img src='css/images/view.png' width='20px' alt='View Details' />",n+="</a>",n+="<input type='hidden' name='rowId' id='rowId' value='"+e+"'/>"),n+"</form>"}function deleteTemplate(e,t,i){var a=$(this).attr("id"),r=a.substr(4,a.length),o="frm"+r+"D"+e,d=$("#"+a).jqGrid().getGridParam("deleteurl");""==d&&(d=r+".html");var l="<form action='"+d+"?delete&rowId="+e+"' name='"+o+"' id='"+o+'\' method="post">';return l+="<a href='javascript:void(0);' onclick=\"deleteRecord('"+o+"','grid"+r+"')\">",l+="<img src='css/images/delete.png' width='20px' alt='Delete' />",l+="</a>",l+="</form>","Y"===i.activeStatus?"<img src='css/images/delete.png' width='20px' alt='Delete' />":l}function setColModel(e,t){if(void 0===e&&void 0===t)return alert("Not valid col model object !"),null;switch(e.align="center",e.editable=!1,e.sortable=!1,e.search=!1,t){case"DELETE":e.width="50";break;case"EDIT":e.width="70";break;case"ACTIVE":e.width="40";break;default:e.width=100}}function dateTemplate(e,t,i){if(null!==e){var a=new Date(e);return getDateFormat(a)}return""}function dateTimeTemplate(e,t,i){if(null!==e){var a=new Date(e);return a.toLocaleDateString()+" "+a.toLocaleTimeString()}return""}function timeTemplate(e,t,i){if(null!==e){var a=new Date(e);return a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}return""}function performOnLoadComplete(e,t){showColumnTotal(e,t)}function showColumnTotal(e,t){if(t.showTotal){var i=[];null!==t.colNames&&t.colNames.length>0&&(i=stringToArray(t.colNames,","));var a=getLocalMessage("tp.jQGridTotal");e.jqGrid("footerData","set",{rn:a});for(var r=e.jqGrid("getGridParam","colModel"),o=0;o<r.length;o++)for(var d=0;d<i.length;d++)if(r[o].name==i[d]){var l=e.jqGrid("getCol",r[o].name,!1,"sum");l=l.toFixed(2);var n=[];n[r[o].name]=l,e.jqGrid("footerData","set",n);break}}}function getGridColSum(e){var t="#"+gridOption.gridId;if(!$(t).doesExist())return console.log("Grid doesnot exists."),!1;for(var i=$(t).jqGrid("getGridParam","colModel"),a=0;a<i.length;a++)if(i[a].name==e)return $(t).jqGrid("getCol",i[a].name,!1,"sum")}function getGridColSum(e,t){var i="#"+gridOption.gridId;if(!$(i).doesExist())return console.log("Grid doesnot exists with id "+i),!1;for(var a=$(i).jqGrid("getGridParam","colModel"),r=0;r<a.length;r++)if(a[r].name==e){var o=$(i).jqGrid("getCol",a[r].name,!1,"sum");o=o.toFixed(2),void 0!==t?getElementType(t)?$("#"+t).val(o):$("#"+t).html(o):console.log("No such element exists with given id "+t);break}}var rowNumWidth=auto,gridOption={},viewRedirect=!0,allRowIds=[],rowCheckBoxFlag=0;